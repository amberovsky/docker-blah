{% extends '../../layout/index.html.twig' %}

{% block sidebar %}
    {% include './../partial.sidebar.html.twig' %}
{% endblock %}

{% block content %}
    <h1 class="page-header"><span class="fa fa-plug"></span>&nbsp;&nbsp;Local docker status : <span class="label label-danger">not configured</span></h1>
    <form class="form-horizontal" method="post" enctype="multipart/form-data" action="/profile/local/">
        {% if (error or success) %}
            <div class="form-group form-group-sm">
                <div class="col-sm-6">
                    {% if error %}
                        <div class="alert alert-danger alert-dismissible" role="alert">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            {{ error }}
                        </div>
                    {% else %}
                        <div class="alert alert-success alert-dismissible" role="alert">
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            {{ success }}
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}
        <p class="lead">Connect your docker from your machine / laptop to the docker-blah</p>
        <div class="form-group form-group-sm">
            <label for="name" class="col-sm-1 control-label">Name</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="name" name="name" placeholder="name" value="{{ request.node.getName() }}" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <label for="ip" class="col-sm-1 control-label">IP</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="ip" name="ip" placeholder="xxx.xxx.xxx.xxx" value="{{ request.node.getIp() }}" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <label for="port" class="col-sm-1 control-label">port</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="port" name="port" placeholder="12345" value="{{ request.node.getPort() }}" pattern="\d*" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <label class="col-sm-1 control-label" for="file_ca">ca.pem</label>
            <div class="col-sm-3">
                <input type="file" class="form-control" id="file_ca" name="file_ca" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <label class="col-sm-1 control-label" for="file_cert">cert.pem</label>
            <div class="col-sm-3">
                <input type="file" class="form-control" id="file_cert" name="file_cert" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <label class="col-sm-1 control-label" for="file_key">key.pem</label>
            <div class="col-sm-3">
                <input type="file" class="form-control" id="file_key" name="file_key" required />
            </div>
        </div>
        <div class="form-group form-group-sm">
            <div class="col-sm-offset-1 col-sm-3">
                <button type="submit" name="action" class="btn btn-success" value="create"><span class="fa fa-check-circle-o"></span>&nbsp;&nbsp;Create</button>
            </div>
        </div>
    </form>
{% endblock %}
